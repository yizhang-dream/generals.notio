# C++ Generals.io (将军棋)

这是一个基于 C++ 和 EasyX 图形库开发的策略游戏，复刻了经典的 [Generals.io](http://generals.io) 玩法。游戏支持本地多人对战、局域网联机以及挑战多种难度的 AI。

## 🎮 游戏简介

你的目标是**保卫自己的将军（皇冠）**，同时**消灭敌人的将军**。
通过占领周围的土地来扩张势力，利用城市增加兵力，并在复杂的地形中运筹帷幄。

## ✨ 主要特色

*   **多种游戏模式**：
    *   **本地对战**：单机双人切磋，或挑战电脑 AI。
    *   **局域网联机 (LAN)**：支持多台电脑通过局域网连接，进行多人实时对战。
*   **智能 AI**：
    *   内置 6 种不同难度的 AI，从“随机移动”到“战略家 (v0.6)”，满足不同挑战需求。
*   **战争迷雾**：
    *   (可选) 视野限制机制，你只能看到己方单位周围的区域，增加了侦察和博弈的乐趣。
*   **动态地图**：
    *   随机生成的地图布局，每次开局都是全新的体验。

## 🕹️ 操作说明

### 1. 本地模式 (Local Mode)

*   **玩家 1 (红色)**:
    *   如果 **玩家 2 是 AI**: 可以使用 **方向键** (`↑↓←→`) 或 `WASD` 移动。
    *   如果 **玩家 2 是 人类**: 必须使用 **`W` `A` `S` `D`** 键移动。
*   **玩家 2 (蓝色)**:
    *   使用 **方向键** (`↑`, `↓`, `←`, `→`) 移动。
*   **鼠标操作**:
    *   仅在 **单人 vs AI** 模式下可用。点击地图格子可快速发布移动指令。

### 2. 局域网模式 (LAN Mode)

*   所有玩家均使用 **方向键** (`↑`, `↓`, `←`, `→`) 控制自己的角色。
*   支持 **鼠标点击** 移动。

## ⚔️ 游戏规则

*   **地形说明**:
    *   **空地**: 每 25 回合自动增加 1 个兵力。
    *   **山脉 (灰色)**: 不可通行的障碍物。
    *   **城市/塔楼 (白色)**: 每回合自动增加 1 个兵力。占领中立城市需要消耗 40+ 兵力。
    *   **皇冠 (将军)**: 你的大本营，每回合自动增加 1 个兵力。**一旦皇冠被占领，你将直接出局！**
*   **战斗机制**:
    *   **移动**: 移动会将当前格子的兵力（保留 1 个）带到目标格子。
    *   **占领**:
        *   如果是**己方**领土：兵力叠加。
        *   如果是**敌方/中立**领土：兵力相减 (你的兵力 - 目标兵力)。
            *   若结果 > 0：占领成功，剩余兵力占领该地。
            *   若结果 <= 0：占领失败，目标地块兵力减少。
*   **特殊机制**:
    *   **皇冠变塔**: 当你占领敌人的皇冠时，它会瞬间转化为一座**半血的防御塔**（归你所有），同时该敌人的所有原有领土瞬间消失（变为中立）。

## 🛠️ 编译与运行

本项目依赖 **EasyX 图形库** (仅支持 Windows)。

### 环境要求
*   **系统**: Windows
*   **编译环境**: MinGW (g++) 或 Visual Studio
*   **依赖库**: EasyX, WinMM (系统自带), WS2_32 (系统自带)

### 编译命令 (MinGW)
```bash
g++ main.cpp ai0.1.cpp ai0.2.cpp ai0.3.cpp ai0.4.cpp ai0.5.cpp ai0.6.cpp -o game.exe -leasyx -lws2_32 -lwinmm -static-libgcc -static-libstdc++
```

### Visual Studio 配置
1.  新建“空项目”。
2.  导入所有 `.cpp` 和 `.h` 文件。
3.  安装 EasyX (或 NuGet 包 `EasyX`)。
4.  编译运行。

## 📁 主要文件结构
*   `main.cpp`: 游戏主循环、渲染、输入与网络逻辑。
*   `ai*.cpp`: 各个版本的 AI 逻辑实现。
*   `include/`: 头文件。
*   `images/` & `sounds/`: 游戏资源文件。

---
*祝你游戏愉快！*
